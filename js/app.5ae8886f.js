(function(){"use strict";var e={8580:function(e,t,n){var r=n(9242),o=n(3396);function i(e,t){const n=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(n)}var a=n(89);const s={},l=(0,a.Z)(s,[["render",i]]);var d=l,c=n(2483);const u=e=>((0,o.dD)("data-v-13fd2ea8"),e=e(),(0,o.Cn)(),e),m=u((()=>(0,o._)("h3",null,"Вітаємо на сторінці нашого автопарку",-1)));function p(e,t,n,r,i,a){const s=(0,o.up)("main-masterpage");return(0,o.wg)(),(0,o.j4)(s,null,{default:(0,o.w5)((()=>[m])),_:1})}var f=n(6088),h={name:"HomeView",components:{MainMasterpage:f.Z}};const g=(0,a.Z)(h,[["render",p],["__scopeId","data-v-13fd2ea8"]]);var v=g;const L=[{path:"/",name:"home",component:v,meta:{showMenu:!0}},{path:"/drivers",name:"drivers",component:()=>n.e(548).then(n.bind(n,5548))},{path:"/drivers/edit/:id?",name:"driverEditor",props:!0,component:()=>n.e(844).then(n.bind(n,1844))},{path:"/buses",name:"buses",component:()=>n.e(542).then(n.bind(n,9542))},{path:"/buses/edit/:id?",name:"busesEditor",props:!0,component:()=>n.e(487).then(n.bind(n,3487))},{path:"/appointment",name:"appointment",component:()=>n.e(432).then(n.bind(n,7432))},{path:"/contacts",name:"contacts",component:()=>n.e(609).then(n.bind(n,3609))}],b=(0,c.p7)({history:(0,c.PO)("/Vue-lesson-16/"),routes:L});var y=b,E=n(65),I=(n(560),n(7795)),w=n(1066);const B={apiKey:"AIzaSyAiX_tJxDY0zobYkgBP_RgMZ0L29ejZyIE",authDomain:"data-drivers-list.firebaseapp.com",projectId:"data-drivers-list",storageBucket:"data-drivers-list.appspot.com",messagingSenderId:"555641796158",appId:"1:555641796158:web:71c822f18ca7a7e783c36f"},D=(0,I.ZF)(B),A=(0,w.ad)(D);var _=A;class C{constructor(e){this.dbCollection=(0,w.hJ)(_,`/${e}`)}getListFromSnapshot(e){const t=[];return e.docs.forEach((e=>{t.push({id:e.id,...e.data()})})),t}loadItemsList(){return console.log("Loading items list..."),new Promise(((e,t)=>{(0,w.PL)(this.dbCollection).then((t=>{console.log("Query Snapshot:",t),e(this.getListFromSnapshot(t))})).catch((e=>{t(e)}))}))}addItem(e){return new Promise(((t,n)=>{(0,w.ET)(this.dbCollection,e).then((()=>{t(!0)})).catch((e=>{n(e)}))}))}deleteItem(e){return new Promise(((t,n)=>{(0,w.oe)((0,w.JU)(this.dbCollection,e)).then((()=>{t(!0)})).catch((e=>{n(e)}))}))}updateItem(e,t){return console.log("itemId"),console.log(e),new Promise(((n,r)=>{const o=(0,w.JU)(this.dbCollection,e);(0,w.r7)(o,t).then((()=>{n(!0)})).catch((e=>{r(e)}))}))}loadFilteredData(e){const t=[];if(e.name&&t.push((0,w.ar)("name","==",e.name)),e.expFrom){const n=parseInt(e.expFrom);t.push((0,w.ar)("exp",">=",n))}if(e.expTo){const n=parseInt(e.expTo);t.push((0,w.ar)("exp","<=",n))}const n=(0,w.IO)(this.dbCollection,(0,w.xD)(...t));return new Promise(((e,t)=>{(0,w.PL)(n).then((t=>{e(this.getListFromSnapshot(t))})).catch((e=>{t(e)}))}))}}var k=C;const x=new k("drivers");var O={namespaced:!0,state:()=>({listDrivers:[],loading:!1,error:null}),getters:{isLoading:e=>e.loading,hasError:e=>e.error,getDriversList:e=>e.listDrivers,getDriverById:e=>t=>e.listDrivers.find((e=>e.id==t))},mutations:{setItemsList(e,t){e.listDrivers=t},deleteItem(e,t){e.listDrivers=e.listDrivers.filter((e=>e.id!==t))},setLoading(e,t){e.loading=t},setError(e,t){e.error=t}},actions:{loadListDrivers({commit:e}){e("setError",null),e("setLoading",!0),x.loadItemsList().then((t=>{e("setItemsList",t)})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))},addDriver({commit:e,dispatch:t},n){e("setError",null),e("setLoading",!0),x.addItem(n).then((()=>{t("loadListDrivers")})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))},deleteDriver({commit:e},t){e("setError",null),e("setLoading",!0),x.deleteItem(t).then((()=>{e("deleteItem",t)})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))},updateDriver({commit:e,dispatch:t},{itemId:n,data:r}){e("setError",null),e("setLoading",!0),x.updateItem(n,r).then((()=>{t("loadListDrivers")})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))},loadFilteredDriver({commit:e},t){e("setError",null),e("setLoading",!0),console.log(t),x.loadFilteredData(t).then((t=>{e("setItemsList",t)})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))}}};const T=new k("buses");var F={namespaced:!0,state:()=>({listBuses:[],loading:!1,error:null}),getters:{isLoading:e=>e.loading,hasError:e=>e.error,getBusesList:e=>e.listBuses,getBusById:e=>t=>e.listBuses.find((e=>e.id==t))},mutations:{setItemsList(e,t){e.listBuses=t},deleteItem(e,t){e.listBuses=e.listBuses.filter((e=>e.id!==t))},setLoading(e,t){e.loading=t},setError(e,t){e.error=t}},actions:{loadlistBuses({commit:e}){e("setError",null),e("setLoading",!0),T.loadItemsList().then((t=>{e("setItemsList",t)})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))},addBuses({commit:e,dispatch:t},n){e("setError",null),e("setLoading",!0),T.addItem(n).then((()=>{t("loadlistBuses")})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))},deleteBuses({commit:e},t){e("setError",null),e("setLoading",!0),T.deleteItem(t).then((()=>{e("deleteItem",t)})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))},updateBuses({commit:e,dispatch:t},{itemId:n,data:r}){e("setError",null),e("setLoading",!0),T.updateItem(n,r).then((()=>{t("loadlistBuses")})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))},loadFiltered({commit:e},{fieldTitle:t,compareOperator:n,valueToCompare:r}){e("setError",null),e("setLoading",!0),console.log({fieldTitle:t,compareOperator:n,valueToCompare:r}),T.loadFilteredData(t,n,r).then((t=>{e("setItemsList",t)})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))}}};const S=new k("appointment");var j={namespaced:!0,state:()=>({listAppointment:[],loading:!1,error:null}),getters:{isLoading:e=>e.loading,hasError:e=>e.error,getAppointmentList:e=>e.listAppointment,getAppointmentByIdDriver:e=>t=>e.listAppointment.find((e=>e.driver==t)),getAppointmentByIdBus:e=>t=>e.listAppointment.find((e=>e.bus==t)),getAppointmentById:e=>t=>e.listAppointment.find((e=>e.id==t)),getFillAppointmentList:(e,t,n,r)=>e.listAppointment.map((e=>({id:e.id,driver:r["drivers/getDriverById"](e.driver)?.name||null,bus:r["buses/getBusById"](e.bus)?.number||null})))},mutations:{setItemsList(e,t){e.listAppointment=t},deleteItem(e,t){e.listAppointment=e.listAppointment.filter((e=>e.id!==t))},setLoading(e,t){e.loading=t},setError(e,t){e.error=t}},actions:{loadlistAppointment({commit:e}){e("setError",null),e("setLoading",!0),S.loadItemsList().then((t=>{e("setItemsList",t)})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))},addAppointment({commit:e,dispatch:t},n){e("setError",null),e("setLoading",!0),S.addItem(n).then((()=>{t("loadlistAppointment")})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))},deleteApointment({commit:e},t){e("setError",null),e("setLoading",!0),S.deleteItem(t).then((()=>{e("deleteItem",t)})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))},updateBuses({commit:e,dispatch:t},{itemId:n,data:r}){e("setError",null),e("setLoading",!0),S.updateItem(n,r).then((()=>{t("loadlistAppointment")})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))},loadFiltered({commit:e},{fieldTitle:t,compareOperator:n,valueToCompare:r}){e("setError",null),e("setLoading",!0),console.log({fieldTitle:t,compareOperator:n,valueToCompare:r}),S.loadFilteredData(t,n,r).then((t=>{e("setItemsList",t)})).catch((t=>{e("setError",t)})).finally((()=>{e("setLoading",!1)}))}}},P=(0,E.MT)({state:{},getters:{},mutations:{},actions:{},modules:{drivers:O,buses:F,appointment:j}}),W=(n(9773),n(8957)),N=n(8893),M=n(8600),Z=n(3494),U=n(7749),J=n(4551),V=n(8539),H=n(8429);const R=(0,W.Rd)({components:N,directives:M});Z.vI.add(J.vnX,V.mRB,H.NCV),(0,r.ri)(d).use(P).use(y).use(R).component("font-awesome-icon",U.GN).mount("#app")},6088:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(3396);const o=e=>((0,r.dD)("data-v-a912fae6"),e=e(),(0,r.Cn)(),e),i={key:0},a=o((()=>(0,r._)("span",null,"Loading...",-1))),s={key:1,class:"isError"},l=o((()=>(0,r._)("span",null,"Error ",-1)));function d(e,t,n,o,d,c){const u=(0,r.up)("font-awesome-icon"),m=(0,r.up)("router-link"),p=(0,r.up)("v-btn");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("nav",null,[(0,r.Wm)(p,{variant:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{to:"/"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{icon:["fas","house"]})])),_:1})])),_:1}),(0,r.Wm)(p,{variant:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{to:{name:"drivers"}},{default:(0,r.w5)((()=>[(0,r.Uk)("Водії")])),_:1})])),_:1}),(0,r.Wm)(p,{variant:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{to:{name:"buses"}},{default:(0,r.w5)((()=>[(0,r.Uk)("Автобуси")])),_:1})])),_:1}),(0,r.Wm)(p,{variant:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{to:{name:"appointment"}},{default:(0,r.w5)((()=>[(0,r.Uk)("Призначення")])),_:1})])),_:1}),(0,r.Wm)(p,{variant:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{to:{name:"contacts"}},{default:(0,r.w5)((()=>[(0,r.Uk)("Контакти")])),_:1})])),_:1})]),e.isLoading?((0,r.wg)(),(0,r.iD)("div",i,[a,(0,r.Wm)(u,{icon:["fas","rotate-right"]})])):e.hasError?((0,r.wg)(),(0,r.iD)("div",s,[l,(0,r.Wm)(u,{icon:["fas","triangle-exclamation"]})])):(0,r.WI)(e.$slots,"default",{key:2},void 0,!0)],64)}var c=n(65),u={name:"MainMasterpage",computed:{...(0,c.Se)("drivers",["isLoading","hasError"])}},m=n(89);const p=(0,m.Z)(u,[["render",d],["__scopeId","data-v-a912fae6"]]);var f=p}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,i){if(!r){var a=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],i=e[c][2];for(var s=!0,l=0;l<r.length;l++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(s=!1,i<a&&(a=i));if(s){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,o,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{432:"1faf2d6e",487:"0cca737b",542:"0eb51178",548:"15f0dc7c",609:"a5ecd030",844:"d743810f"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{432:"2187fc31",487:"3ba75f6f",542:"36c9aba4",548:"ec93e879",844:"78950195"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="test:";n.l=function(r,o,i,a){if(e[r])e[r].push(o);else{var s,l;if(void 0!==i)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(l=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[o];var m=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=m.bind(null,s.onerror),s.onload=m.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/Vue-lesson-16/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,r,o){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var a=function(n){if(i.onerror=i.onload=null,"load"===n.type)r();else{var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=s,i.parentNode&&i.parentNode.removeChild(i),o(l)}};return i.onerror=i.onload=a,i.href=t,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i),i},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){o=a[r],i=o.getAttribute("data-href");if(i===e||i===t)return o}},r=function(r){return new Promise((function(o,i){var a=n.miniCssF(r),s=n.p+a;if(t(a,s))return o();e(r,s,null,o,i)}))},o={143:0};n.f.miniCss=function(e,t){var n={432:1,487:1,542:1,548:1,844:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=r(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={143:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=i);var a=n.p+n.u(t),s=new Error,l=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}};n.l(a,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,a=r[0],s=r[1],l=r[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var c=l(n)}for(t&&t(r);d<a.length;d++)i=a[d],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},r=self["webpackChunktest"]=self["webpackChunktest"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(8580)}));r=n.O(r)})();
//# sourceMappingURL=app.5ae8886f.js.map